{"version":3,"sources":["webpack://Pele/webpack/universalModuleDefinition","webpack://Pele/webpack/bootstrap","webpack://Pele/./src/BatMan/elementSelect.js","webpack://Pele/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://Pele/./node_modules/@babel/runtime/helpers/createClass.js","webpack://Pele/./src/BatMan/MaxGridFitColumn.js","webpack://Pele/external \"Muuri\"","webpack://Pele/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://Pele/./src/muuri-square-slides.js","webpack://Pele/external {\"commonjs\":\"lodash\",\"commonjs2\":\"lodash\",\"amd\":\"lodash\",\"root\":\"_\"}"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__9__","__WEBPACK_EXTERNAL_MODULE__14__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","elementMatches","element","selector","Element","matches","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","elementClosest","closest","isMatch","document","parentNode","instance","Constructor","TypeError","_defineProperties","target","props","length","descriptor","configurable","writable","protoProps","staticProps","MaxGridFitColumn","elem","count","getBoundingClientRect","fracrows","Math","sqrt","height","width","ceil","numRows","min","obj","KONST","MuuriSlideShow","options","dragCounter","docElem","documentElement","this","gridContainer","getElementById","ID","gridElement","createElement","scheduleRecomputeIfNeeded","currentColumns","grid","getElement","getAttribute","ComputeFitColumns","setTimeout","recomputedimensions","classList","add","appendChild","layoutDuration","layoutEasing","dragEnabled","dragSortHeuristics","sortInterval","minDragDistance","minBounceBackAngle","layout","rounding","dragStartPredicate","item","event","InDragCancelZone","Muuri","ItemDrag","defaultStartPredicate","dragPlaceholder","enabled","duration","CreateDragShadow","dragReleaseDuration","dragReleaseEasing","on","remove","data","isDragging","ConsolidateMove","getDataId","fromIndex","toIndex","action","updateIndices","addEventListener","e","OnClick","eItem","getItems","SlideZoom","stopPropagation","preventDefault","dataTransfer","getData","console","debug","DoAdd","ShowHideBasedOnZoomin","Action","arguments","InEditMode","IsInZoomMode","DoSelect","cmd","doAdd","txt","DoAddText","doDelete","id","envelope","ItemFromId","findChosenItem","removeItem","doMove","from","to","move","doSelect","doChooseSlide","doZoom","doZoomSlide","args","apply","querySelector","DoDelete","cloneNode","contains","setupDragHandlers","SlideIncrement","ToggleZoom","findChosenOne","amount","eFirst","eNext","eChosen","iChosen","ElementIndex","forEach","setAttribute","removeAttribute","fAlreadyzoomed","all","filter","hide","show","slidecount","indexOf","isChosen","unchooseSlide","unzoomSlide","newId","innerHTML","_dragPlaceholder","isActive","_element","xxx","DeleteSlide","removeElements","inplaybackmode","onFinish","items","refreshItems","chooseSlide","slideshow","ExportData","rg","setData"],"mappings":"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","file":"muuri-square-slides.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"Muuri\"), require(\"lodash\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"Muuri\", \"lodash\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Pele\"] = factory(require(\"Muuri\"), require(\"lodash\"));\n\telse\n\t\troot[\"Pele\"] = factory(root[\"Muuri\"], root[\"_\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__9__, __WEBPACK_EXTERNAL_MODULE__14__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 13);\n","\nexport function elementMatches(element, selector)\n{\n\n\tvar p = Element.prototype;\n\treturn (p.matches || p.matchesSelector || p.webkitMatchesSelector || p.mozMatchesSelector || p.msMatchesSelector || p.oMatchesSelector).call(element, selector);\n\n}\n\nexport function elementClosest(element, selector)\n{\n\n\tif (window.Element && !Element.prototype.closest)\n\t{\n\t\tvar isMatch = elementMatches(element, selector);\n\t\twhile (!isMatch && element && element !== document)\n\t\t{\n\t\t\telement = element.parentNode;\n\t\t\tisMatch = element && element !== document && elementMatches(element, selector);\n\t\t}\n\t\treturn element && element !== document ? element : null;\n\t}\n\telse\n\t{\n\t\treturn element.closest(selector);\n\t}\n\n}\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","export function MaxGridFitColumn(elem, count)\n{\n\tconst r = elem.getBoundingClientRect();\n\tconst fracrows = Math.sqrt(count * r.height / r.width);\n\tif (fracrows < 1)\n\t{\n\t\treturn Math.ceil(count/(fracrows*fracrows));\n\t}\n\n\tconst numRows = Math.min(count, Math.ceil(fracrows)) ;\n\tconst numCols = Math.ceil(Math.sqrt(count * r.width / r.height));\n\n\tconst ret =  Math.min(count, Math.ceil(numRows * r.width/r.height) );\n\n\t//console.debug(\"MaxGridFitColumn\", count, ret, numCols, numRows, r.width / r.height, r);\n\n\n\treturn ret;\n}","module.exports = __WEBPACK_EXTERNAL_MODULE__9__;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","import * as _ from 'lodash';\nimport Muuri from 'Muuri';\nimport { elementClosest } from './BatMan/elementSelect';\nimport {MaxGridFitColumn} from './BatMan/MaxGridFitColumn';\n\nconst KONST =\n{\n\tpele_dragover: \"pele_dragover\"\n\t, pele_edit_mode:\"pele_edit-mode\"\n\t, DRAGON_DROP_MIME_TYPE: \"application/x-pele-move-slideshow\"\n\n};\n\nexport class MuuriSlideShow\n{\n\tconstructor(options)\n\t{\n\t\tvar dragCounter = 0;\n\t\tvar docElem = document.documentElement;\n\n\t\tthis.gridContainer = document.getElementById(options.ID);\n\n\t\tconst gridElement = document.createElement(\"div\");\n\t\tgridElement.classList.add(\"grid\");\n\t\tthis.gridContainer.appendChild(gridElement);\n\n\t\toptions = {\n\t\t\tlayoutDuration: 400,\n\t\t\tlayoutEasing: 'ease',\n\t\t\tdragEnabled: true,\n\t\t\tdragSortHeuristics:\n\t\t\t{\n\t\t\t\tsortInterval: 50,\n\t\t\t\tminDragDistance: 10,\n\t\t\t\tminBounceBackAngle: 1\n\t\t\t},\n\t\t\tlayout:\n\t\t\t{\n\t\t\t\trounding: false\n\t\t\t},\n\t\t\tdragStartPredicate: function (item, event)\n\t\t\t{\n\t\t\t\t//if ((event.deltaX > 2 || event.deltaY > 2))\n\t\t\t\t{\n\t\t\t\t\treturn this.InDragCancelZone(item, event) ? false : Muuri.ItemDrag.defaultStartPredicate(item, event);\n\t\t\t\t}\n\t\t\t}.bind(this),\n\t\t\tdragPlaceholder:\n\t\t\t{\n\t\t\t\tenabled: true,\n\t\t\t\tduration: 400,\n\t\t\t\tcreateElement: function (item)\n\t\t\t\t{\n\t\t\t\t\treturn this.CreateDragShadow(item);\n\t\t\t\t}.bind(this)\n\t\t\t},\n\t\t\tdragReleaseDuration: 400,\n\t\t\tdragReleaseEasing: 'ease',\n\t\t\t...options\n\t\t}\n\n\t\tthis.grid = new Muuri(gridElement, options)\n\t\t\t.on('dragStart', function ()\n\t\t\t{\n\t\t\t\t++dragCounter;\n\t\t\t\tdocElem.classList.add('dragging');\n\t\t\t})\n\t\t\t.on('dragEnd', function ()\n\t\t\t{\n\t\t\t\tif (--dragCounter < 1)\n\t\t\t\t{\n\t\t\t\t\tdocElem.classList.remove('dragging');\n\t\t\t\t}\n\t\t\t})\n\t\t\t.on('move', (data) =>\n\t\t\t{\n\t\t\t\t//console.debug(\"move\", data);\n\n\t\t\t\tif (data.item.isDragging())\n\t\t\t\t\tthis.ConsolidateMove(getDataId(data.item.getElement()), data.fromIndex, data.toIndex, data.action);\n\t\t\t\tthis.updateIndices();\n\t\t\t})\n\t\t\t.on('sort', () => this.updateIndices())\n\t\t\t.on('layoutEnd', scheduleRecomputeIfNeeded.bind(this))\n\t\t\t.on('add', scheduleRecomputeIfNeeded.bind(this))\n\t\t\t.on('remove', scheduleRecomputeIfNeeded.bind(this))\n\t\t\t;\n\n\t\tfunction scheduleRecomputeIfNeeded()\n\t\t{\n\t\t\tconst currentColumns = this.grid.getElement().getAttribute(\"data-pele-square-size-column-count\");\n\n\t\t\tif (this.ComputeFitColumns() != currentColumns)\n\t\t\t\tsetTimeout(recomputedimensions.bind(this), 50);\n\n\t\t}\n\n\t\tgridElement.addEventListener('click', function (e) { this.OnClick(e); }.bind(this));\n\n\t\tgridElement.addEventListener('dblclick', function (e)\n\t\t{\n\t\t\tconst eItem = elementClosest(e.target, \".item\");\n\t\t\tif (eItem)\n\t\t\t{\n\t\t\t\tif (!this.grid.getItems(eItem)[0].isDragging())\n\t\t\t\t\tthis.SlideZoom();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tconst eOverlay = elementClosest(e.target, \".pele_deactive_overlay\");\n\t\t\t\tif (eOverlay)\n\t\t\t\t{\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t//self.Action(\"DoFullScreen\", rowIndex(e));\n\t\t\t\t}\n\t\t\t}\n\t\t}.bind(this));\n\n\n\t\tgridElement.addEventListener(\"dragover\", function (event)\n\t\t{\n\t\t\tevent.preventDefault();\n\t\t}, false);\n\n\t\tgridElement.addEventListener(\"drop\", function (event)\n\t\t{\n\t\t\tlet data = event.dataTransfer.getData(\"text/html\")\n\t\t\t\t|| event.dataTransfer.getData(\"text/uri-list\")\n\t\t\t\t|| event.dataTransfer.getData(\"text\");\n\n\t\t\tif (data)\n\t\t\t{\n\t\t\t\tconsole.debug(\"text/drop\", data);\n\n\t\t\t\tthis.DoAdd(data);\n\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t}.bind(this));\n\n\n\t\trecomputedimensions.call(this);\n\t\tthis.ShowHideBasedOnZoomin();\n\n\t}\n\n\tConsolidateMove()\n\t{\n\t\tthis.Action(\"DoMove\", ...arguments);\n\t}\n\n\tOnClick(event)\n\t{\n\t\tconst eItem = elementClosest(event.target, \".item\");\n\t\tif (eItem && this.InEditMode())\n\t\t{\n\n\t\t}\n\t\telse if (eItem && !this.IsInZoomMode())\n\t\t{\n\t\t\tthis.DoSelect(getDataId(eItem));\n\t\t}\n\t\telse\n\t\t{\n\t\t\tconst eOverlay = elementClosest(event.target, \".pele_deactive_overlay\");\n\t\t\t//\tif (eOverlay)\n\t\t\t{\n\t\t\t\t//console.debug(\"In Overlay\");\n\t\t\t\tevent.stopPropagation();\n\t\t\t\t//self.Action(\"DoSelect\", rowIndex(e));\n\t\t\t}\n\t\t}\n\t}\n\n\n\tDoAdd()\n\t{\n\t\tthis.Action(\"DoAdd\", ...arguments);\n\t}\n\n\n\tDoDelete()\n\t{\n\t\tthis.Action(\"DoDelete\", ...arguments);\n\t}\n\n\tDoSelect()\n\t{\n\t\tthis.Action(\"DoSelect\", ...arguments);\n\t}\n\n\tAction(cmd, ...args)\n\t{\n\t\tfunction doAdd(txt)\n\t\t{\n\t\t\tthis.DoAddText(txt);\n\t\t}\n\n\t\tfunction doDelete(id, envelope)\n\t\t{\n\t\t\tconst e = this.ItemFromId(id) || this.findChosenItem();\n\n\t\t\tremoveItem.call(this, e, envelope);\n\t\t}\n\n\t\tfunction doMove(id, from, to, action)\n\t\t{\n\t\t\t//console.debug(\"doMove\", id, from, to, action);\n\t\t\tif (action === \"move\")\n\t\t\t{\n\t\t\t\tconst e = this.ItemFromId(id);\n\t\t\t\t//console.debug(\"move\", from, \">\", to);\n\t\t\t\tthis.grid.move(e, to, false);\n\t\t\t}\n\t\t}\n\n\t\tfunction doSelect(id)\n\t\t{\n\t\t\tconst e = this.ItemFromId(id).getElement();\n\t\t\tdoChooseSlide.call(this, e);\n\t\t}\n\n\t\tfunction doZoom(id)\n\t\t{\n\t\t\tconst e = this.ItemFromId(id).getElement();\n\t\t\tdoZoomSlide.call(this, e);\n\t\t}\n\n\t\tswitch (cmd)\n\t\t{\n\t\t\tcase \"DoAdd\": doAdd.apply(this, args); break;\n\t\t\tcase \"DoDelete\": doDelete.apply(this, args); break;\n\t\t\tcase \"DoMove\": doMove.apply(this, args); break;\n\t\t\tcase \"DoSelect\": doSelect.apply(this, args); break;\n\t\t\tcase \"ToggleZoom\": doZoom.apply(this, args); break;\n\t\t}\n\t}\n\n\tItemFromId(id)\n\t{\n\t\tconst e = this.grid.getElement().querySelector(\"[data-id='\" + id + \"']\");\n\t\treturn this.grid.getItems(e)[0];\n\t}\n\n\tRemoveItem(e)\n\t{\n\t\tthis.DoDelete(getDataId(elementClosest(e, '.item')));\n\t}\n\n\tCreateDragShadow(item)\n\t{\n\t\treturn item.getElement().cloneNode(true);\n\t}\n\n\tInDragCancelZone(item, event)\n\t{\n\t\treturn this.InEditMode() || this.IsInZoomMode();\n\t}\n\n\tIsInZoomMode()\n\t{\n\t\treturn this.grid.getElement().classList.contains(\"pele_zoomedin\");\n\t}\n\n\tDoAddElement(e)\n\t{\n\t\tsetupDragHandlers.call(this, e);\n\n\t\tthis.grid.add(e);\n\t\tthis.updateIndices();\n\t\tthis.ShowHideBasedOnZoomin();\n\n\t\tif (this.IsInZoomMode())\n\t\t\tdoChooseSlide.call(this, e);\n\t}\n\n\tSlidePrevious()\n\t{\n\t\tthis.SlideIncrement(-1);\n\t}\n\n\tSlideNext()\n\t{\n\t\tthis.SlideIncrement(1);\n\t}\n\n\tSlideZoom()\n\t{\n\t\tif (!this.IsInZoomMode())\n\t\t\tthis.ToggleZoom();\n\t}\n\n\tToggleZoom()\n\t{\n\t\tthis.Action(\"ToggleZoom\", getDataId(this.findChosenOne()));\n\n\t}\n\n\tSlideUnzoom()\n\t{\n\t\tif (this.IsInZoomMode())\n\t\t\tthis.ToggleZoom();\n\t}\n\n\tSlideIncrement(amount)\n\t{\n\t\tconst eFirst = this.grid.getItems(0);\n\n\t\tif (eFirst.length)\n\t\t{\n\t\t\tlet eNext;\n\t\t\tconst eChosen = this.findChosenItem();\n\t\t\tif (!eChosen)\n\t\t\t\teNext = eFirst;\n\t\t\telse\n\t\t\t{\n\t\t\t\tconst iChosen = this.ElementIndex(eChosen);\n\n\t\t\t\teNext = this.grid.getItems(iChosen + amount);\n\t\t\t\tif (!eNext.length)\n\t\t\t\t\teNext = this.grid.getItems(0);\n\t\t\t}\n\n\t\t\tthis.DoSelect(getDataId(eNext[0].getElement()));\n\t\t}\n\t}\n\n\tInEditMode()\n\t{\n\t\treturn this.grid.getElement().classList.contains(KONST.pele_edit_mode);\n\n\t}\n\n\tEnterEditMode()\n\t{\n\t\tthis.grid.getElement().classList.add(KONST.pele_edit_mode);\n\t\tthis.grid.getItems().forEach(item=>{\n\t\t\tconst e = item.getElement().querySelector(\".card\");\n\t\t\te.setAttribute(\"draggable\", true);\n\t\t});\n\t}\n\n\tExitEditMode()\n\t{\n\t\tthis.grid.getElement().classList.remove(KONST.pele_edit_mode);\n\t\tthis.grid.getItems().forEach(item=>{\n\t\t\tconst e = item.getElement().querySelector(\".card\");\n\t\t\te.removeAttribute(\"draggable\");\n\t\t});\n\t}\n\n\tShowHideBasedOnZoomin()\n\t{\n\t\tconst fAlreadyzoomed = this.IsInZoomMode();\n\n\t\tconst eChosen = this.findChosenOne();\n\n\t\tif (fAlreadyzoomed && eChosen)\n\t\t{\n\t\t\tconst all = this.grid.getItems().filter(item => eChosen != item);\n\t\t\tthis.grid.hide(all);\n\t\t\tthis.grid.show(eChosen);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.grid.show(this.grid.getItems());\n\t\t}\n\n\t\t//this.updateIndices();\n\t\t//this.grid.refreshItems().layout();\n\t}\n\n\tComputeFitColumns()\n\t{\n\t\tconst rg = this.grid.getItems();\n\t\tconst slidecount = rg.length;\n\t\treturn MaxGridFitColumn(this.gridContainer, slidecount);\n\t}\n\n\n\tElementIndex(e)\n\t{\n\t\treturn this.grid.getItems().indexOf(e);\n\t}\n\n\n\n\n\tunchooseSlide(e)\n\t{\n\t\tif (e)\n\t\t\te.classList.remove(\"pele-chosen-one\");\n\t}\n\n\tfindChosenItem()\n\t{\n\t\tconst eChosen = this.grid.getItems().filter(item => item.getElement().classList.contains(\"pele-chosen-one\"));\n\t\tif (eChosen.length)\n\t\t\treturn eChosen[0];\n\t}\n\n\tfindChosenOne()\n\t{\n\t\tconst eChosen = this.findChosenItem();\n\t\tif (eChosen)\n\t\t\treturn eChosen.getElement();\n\t}\n\n\tchooseSlide(e)\n\t{\n\t\tif (e)\n\t\t{\n\t\t\te.classList.add(\"pele-chosen-one\");\n\t\t}\n\t}\n\n\n\tDeleteSlide(e)\n\t{\n\t\tif (isChosen(e))\n\t\t\tthis.unchooseSlide(e);\n\n\t\tif (this.IsInZoomMode())\n\t\t{\n\t\t\tunzoomSlide.call(this);\n\t\t}\n\n\t\tthis.ShowHideBasedOnZoomin();\n\t}\n\n\n\tupdateIndices()\n\t{\n\t\tthis.grid.getItems().forEach(function (item, i)\n\t\t{\n\t\t\tvar newId = i + 1;\n\t\t\t//item.getElement().setAttribute('data-id', newId);\n\t\t\titem.getElement().querySelector('.card-id').innerHTML = newId;\n\t\t\tif (item._dragPlaceholder.isActive())\n\t\t\t{\n\t\t\t\titem._dragPlaceholder._element.querySelector('.card-id').innerHTML = newId;\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction getDataId(e)\n{\n\treturn e.getAttribute('data-id');\n}\n\nfunction removeItem(elem, envelope)\n{\n\t//console.debug(\"removeItem\", elem, envelope);\n\n\tfunction xxx(elem)\n\t{\n\t\tthis.DeleteSlide(elem.getElement());\n\t\tthis.grid.remove(elem, { removeElements: true });\n\n\t\tthis.updateIndices();\n\t}\n\n\tif (elem)\n\t{\n\t\tif (envelope.inplaybackmode)\n\t\t\txxx.call(this, elem);\n\t\telse\n\t\t\tthis.grid.hide(elem, {\n\t\t\t\tonFinish: function (items)\n\t\t\t\t{\n\t\t\t\t\txxx.call(this, elem);\n\t\t\t\t}.bind(this)\n\t\t\t});\n\t}\n\n\t//this.updateIndices();\n\n}\n\nfunction isChosen(e)\n{\n\treturn e.classList.contains(\"pele-chosen-one\");\n}\n\nfunction recomputedimensions()\n{\n\t//console.debug(\"recomputedimensions\");\t\n\tthis.updateIndices();\n\tthis.grid.getElement().setAttribute(\"data-pele-square-size-column-count\", this.ComputeFitColumns());\n\tthis.grid.refreshItems().layout();\n\n}\n\n\nfunction doChooseSlide(e)\n{\n\t//console.debug(\"doChooseSlide\", e);\n\tif (e)\n\t{\n\t\tthis.unchooseSlide(this.findChosenOne());\n\t\tthis.chooseSlide(e);\n\t\tthis.ShowHideBasedOnZoomin();\n\t}\n}\n\n\nfunction unzoomSlide()\n{\n\t//alreadyZoomed.classList.remove(\"pele_zoomedin\");\n\tthis.grid.getElement().classList.remove(\"pele_zoomedin\");\n}\n\nfunction doZoomSlide(e)\n{\n\n\tif (this.IsInZoomMode())\n\t\tunzoomSlide.call(this);\n\telse\n\t\tthis.grid.getElement().classList.add(\"pele_zoomedin\");\n\t//\tupdateIndices();\n\t//\n\n\trecomputedimensions.call(this);\n\tthis.ShowHideBasedOnZoomin();\n}\n\nfunction extractURL(e)\n{\n\tconst eContainer = e.querySelector(\"div.card-content\");\n}\n\nfunction setupDragHandlers(e)\n{\n\tconst item = elementClosest(e, \".item\");\n\tconst slideshow = this;\n\n\te.addEventListener(\"dragstart\", function (event)\n\t{\n\t\tconsole.debug(\"dragstart\", event.target);\n\n\t\tconst exportdata = slideshow.ExportData(item);\n\t\texportdata.forEach(rg => {\n\t\t\tevent.dataTransfer.setData(rg[0],rg[1] );\n\t\t})\n\t\t//event.dataTransfer.effectAllowed = \"copy\";\n\t\t//event.dataTransfer.setData(KONST.DRAGON_DROP_MIME_TYPE, \"hello\");\n\t\tevent.stopPropagation();\n\t}, true);\n\n}","module.exports = __WEBPACK_EXTERNAL_MODULE__14__;"],"sourceRoot":""}